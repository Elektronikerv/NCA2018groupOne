<navscroller></navscroller>
<div class="container-fluid">
  <div class="row">
    <main class="col offset pt-3">
      <div class="page-header">
        <h1>Statistics</h1>
      </div>
      <div class="row">
        <select #selectElem class="selectpicker" data-width="50%" (change)="change(selectElem.value)">
          <option>CCAgent</option>
          <option>Courier</option>
          <option>Client</option>
          <option>Office</option>
        </select>
        <input #one [ngModel]="start" type="date" min="2018-02-07" (change)="changeStart(one.value)">
        <input #two type="date" [ngModel]="end" max="{{today}}" (change)="changeEnd(two.value)"></div>
      <div *ngIf="!generalStatisticByCompany" class="alert alert-info alert-dismissible">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <strong>Info!</strong> We don't have orders in this period.
      </div>
      <div class="row">
        <h5 id="head1" class="text-success" *ngIf="generalStatisticByCompany">General {{selectElem.value}}</h5>
      </div>
      <div class="table-responsive">
        <table class="table table-bordered" *ngIf="generalStatisticByCompany">
          <thead>
          <th>Scope</th>
          <th>Max</th>
          <th>Min</th>
          <th>Count</th>
          <th>Avg</th>
          </thead>
          <tbody>
          <tr>
            <td>Company</td>
            <td>{{generalStatisticByCompany.max}}</td>
            <td>{{generalStatisticByCompany.min}}</td>
            <td>{{generalStatisticByCompany.count}}</td>
            <td>{{generalStatisticByCompany.avg}}</td>
          </tr>
          <tr [hidden]="selectElem.value!='CCAgent' && selectElem.value!='Courier'">
            <td>Manager</td>
            <td>{{generalStatisticByManager.max}}</td>
            <td>{{generalStatisticByManager.min}}</td>
            <td>{{generalStatisticByManager.count}}</td>
            <td>{{generalStatisticByManager.avg}}</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="row">
        <h5 class="text-success" *ngIf="generalStatisticByCompany">By item {{selectElem.value}}</h5>
      </div>
      <div class="table-responsive">
        <table class="table table-bordered" *ngIf="userStatistics">
          <thead>
          <th>Id</th>
          <th [hidden]="selectElem.value!='Client' && selectElem.value!='CCAgent' && selectElem.value!='Courier'">First
            Name
          </th>
          <th [hidden]="selectElem.value!='Client' && selectElem.value!='CCAgent' && selectElem.value!='Courier'">Last
            Name
          </th>
          <th [hidden]="selectElem.value!='Client'">Status</th>
          <th [hidden]="selectElem.value!='Office'">Name</th>
          <th>Count</th>
          <th>Percentage Company</th>
          <th [hidden]="selectElem.value!='CCAgent' && selectElem.value!='Courier'">Percentage Manager</th>
          <th>Difference Company</th>
          <th [hidden]="selectElem.value!='CCAgent' && selectElem.value!='Courier'">Difference Manager</th>
          </thead>
          <tbody>
          <tr *ngFor="let ccagent of userStatistics">
            <td>{{ccagent.id}}</td>
            <td [hidden]="selectElem.value!='Client' && selectElem.value!='CCAgent' && selectElem.value!='Courier'">
              {{ccagent.firstName}}
            </td>
            <td [hidden]="selectElem.value!='Client' && selectElem.value!='CCAgent' && selectElem.value!='Courier'">
              {{ccagent.lastName}}
            </td>
            <td [hidden]="selectElem.value!='Client'">{{ccagent.status}}</td>
            <td [hidden]="selectElem.value!='Office'">{{ccagent.name}}</td>
            <td>{{ccagent.count}}</td>
            <td>{{ccagent.percentageByCompany}}</td>
            <td [hidden]="selectElem.value!='CCAgent' && selectElem.value!='Courier'">{{ccagent.percentageByManager}}
            </td>
            <td>{{ccagent.differenceBetweenAvgCompany}}</td>
            <td [hidden]="selectElem.value!='CCAgent' && selectElem.value!='Courier'">
              {{ccagent.differenceBetweenAvgManagerEmp}}
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </main>
  </div>
</div>


